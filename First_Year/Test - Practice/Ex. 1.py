#Зад. 1.
'''
Напишете програма, в която потребителя въвежда цяло положително число п (10< п <50) и създава списък 
mylst_1 с n на брой елементи. 

•	Използвайте try- except за да проверите дали п е валидно и дали отговаря на условието. 
•	Списъкът се запълва с цели числа от потребителя, като числата трябва да са в интереала [a;b], където ‘а’ е 
случайно цяло число в интервала от -2500 до -1300, а ‘b’ е случайно цяло число в интервала от 1111 до 4444.  
•	Да се намери броят на отрицателните елементи от списъка mylst_1, чиято цифра на десетиците е кратна на 4 или 5. 
•	Да се намери средно-аритметичното на елементите от списъка mylst_1, чиято стойност е двуцифрена и четна. 
•	Да се създаде втори списък mylst_2 и в него да се включат тези елементи от първия списък, които са трицифрени 
и са кратни на 3.  
•	Да се намери броя на елементите с нечетна стойност, които са с четен индекс от списъка mylst_2.  
•	Да се заменят всички елементи от списък mylst_2, които са с нечетен индекс с числото 13. 
•	Да се сравняват дължините на двата списъка, ако са с различна дължина, от по-дългия списък да се изтрият първия 
и последния елемент. 
•	Да се направят необходимитеx проверки при работа с двата списъка.
'''

import random

def main():
    # --- Стъпка 1: Въвеждане на N с проверка за валидност ---
    n = 0
    while True:
        try:
            user_input = input("Въведете цяло число n (10 < n < 50): ")
            n = int(user_input)
            if 10 < n < 50:
                break
            else:
                print("Грешка: Числото трябва да е между 10 и 50.")
        except ValueError:
            print("Грешка: Моля въведете валидно цяло число.")

    # --- Стъпка 2: Генериране на граници [a; b] ---
    # a: случайно цяло число от -2500 до -1300
    a = random.randint(-2500, -1300)
    # b: случайно цяло число от 1111 до 4444
    b = random.randint(1111, 4444)
    
    print(f"\nГенериран интервал за въвеждане: [{a}; {b}]")

    # --- Стъпка 3: Запълване на mylst_1 ---
    mylst_1 = []
    print(f"Моля, въведете {n} числа в този интервал:")
    
    count_entered = 0
    while count_entered < n:
        try:
            val = int(input(f"Елемент {count_entered + 1}: "))
            if a <= val <= b:
                mylst_1.append(val)
                count_entered += 1
            else:
                print(f"Числото трябва да е в интервала [{a}; {b}]. Опитайте пак.")
        except ValueError:
            print("Невалиден вход. Въведете цяло число.")

    print(f"\n--- Резултати ---")
    print(f"mylst_1: {mylst_1}")

    # --- Стъпка 4: Брой отрицателни елементи, чиято цифра на десетиците е кратна на 4 или 5 ---
    # Пример: за -1245, десетицата е 4.
    special_neg_count = 0
    for x in mylst_1:
        if x < 0:
            #За да намерим цифрата, правим числото положително ръчно
            positive_x = x * -1 
            # Сега намираме цифрата на десетиците
            tens_digit = (positive_x // 10) % 10
            # Внимание: 0 се дели на всичко. Ако десетицата е 0, условието е изпълнено.
            if tens_digit % 4 == 0 or tens_digit % 5 == 0:
                special_neg_count += 1
    
    print(f"Брой отр. елементи с десетица кратна на 4 или 5: {special_neg_count}")

    # --- Стъпка 5: Средно-аритметично на двуцифрени четни числа ---
    sum_even_2digit = 0
    count_even_2digit = 0
    
    for x in mylst_1:
        # Създаваме помощна променлива, за да проверим големината на числото
        check_val = x
        if check_val < 0:
            check_val = check_val * -1
        # Проверка за двуцифрено (10-99) и четна стойност
        if 10 <= check_val <= 99 and x % 2 == 0:
            sum_even_2digit += x
            count_even_2digit += 1
            
    if count_even_2digit > 0:
        avg = sum_even_2digit / count_even_2digit
        print(f"Средно-аритметично на двуцифрени четни: {avg:.2f}")
    else:
        print("Няма намерени двуцифрени четни числа за осредняване.")

    # --- Стъпка 6: Създаване на mylst_2 (трицифрени, кратни на 3 от mylst_1) ---
    mylst_2 = []
    for x in mylst_1:
        check_val = x
        if check_val < 0:
            check_val = check_val * -1
        # Трицифрено (100-999) и кратно на 3
        if 100 <= check_val <= 999 and x % 3 == 0:
            mylst_2.append(x)
            
    print(f"mylst_2 (първоначален): {mylst_2}")

    # --- Стъпка 7: Брой елементи с нечетна стойност на четен индекс в mylst_2 ---
    odd_val_even_idx_count = 0
    for i in range(len(mylst_2)):
        # i е индексът (четен), mylst_2[i] е стойността (нечетна)
        if i % 2 == 0 and mylst_2[i] % 2 != 0:
            odd_val_even_idx_count += 1
            
    print(f"Брой нечетни числа на четен индекс в mylst_2: {odd_val_even_idx_count}")

    # --- Стъпка 8: Замяна на елементи с нечетен индекс в mylst_2 с 13 ---
    if len(mylst_2) > 0:
        for i in range(len(mylst_2)):
            if i % 2 != 0:
                mylst_2[i] = 13
    print(f"mylst_2 (след замяна с 13): {mylst_2}")

    # --- Стъпка 9: Сравняване на дължини и изтриване ---
    len1 = len(mylst_1)
    len2 = len(mylst_2)
    
    print(f"Дължина mylst_1: {len1}, Дължина mylst_2: {len2}")
    
    if len1 != len2:
        if len1 > len2:
            print("mylst_1 е по-дълъг. Изтриваме първия и последния му елемент.")
            if len(mylst_1) > 0:
                mylst_1.pop(0) # Изтрива първия
            if len(mylst_1) > 0:
                mylst_1.pop(-1) # Изтрива последния (който е станал нов последен)
        else:
            print("mylst_2 е по-дълъг. Изтриваме първия и последния му елемент.")
            if len(mylst_2) > 0:
                mylst_2.pop(0)
            if len(mylst_2) > 0:
                mylst_2.pop(-1)
                
    print(f"mylst_1 (финален): {mylst_1}")
    print(f"mylst_2 (финален): {mylst_2}")

main()